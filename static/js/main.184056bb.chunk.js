(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports={Modal:"Modal_Modal__1-Pdd"}},105:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3HTn9"}},106:function(e,t,a){e.exports={form:"Form_form__2g_gy"}},107:function(e,t,a){e.exports={input:"Input_input__qwsWn"}},134:function(e,t,a){e.exports=a(246)},15:function(e,t,a){e.exports={textCenter:"App_textCenter__2B8ED",Container:"App_Container__1pHn2",Item:"App_Item__9Lln0",disabled:"App_disabled__jUD1J",formItem:"App_formItem__P6kmi",NameField:"App_NameField__iVtOB",errorInput:"App_errorInput__3FQW6"}},246:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(102),o=a.n(c),l=a(48),i=a(49),s=a(55),d=a(50),u=a(56),m=a(248),p=a(249),b=a(250),h=a(19),f=a(6),O=a(76),g=a(20),v=a(21),j="FETCH_CONTACTS",_="ADD_CONTACT",E="UPDATE_CONTACT",C="UPDATE_CONTACT_ORDER",y=function(e,t){return Object(v.a)({},e,t)},N=Object(f.b)({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(v.a)({},t.payload);case C:var a={};for(var n in t.payload)a[n]=y(e[n],{orderId:t.payload[n]});return a;case _:var r=Object.keys(e),c=0===r.length?1:Number(r[r.length-1])+1;return y(e,Object(g.a)({},c,Object(v.a)({},t.payload,{orderId:c})));case E:return y(e,Object(g.a)({},t.payload.id,t.payload));default:return e}},form:O.a});function k(e){return{type:_,payload:e}}function w(e){return{type:C,payload:e}}function x(e){return{type:E,payload:e}}var S=a(54),D=a(10),I=a(46),A=a(57),B=a.n(A),T=function(e){var t=e.disabled,a=[B.a["button-text"]];return t&&(a=[].concat(Object(S.a)(a),[B.a["disabled-button"]])),r.a.createElement("button",Object.assign({},e,{className:B.a["submit-button"]}),r.a.createElement("span",{className:a.join(" ")},e.children))},F=a(104),P=a.n(F),R=a(105),q=a.n(R),J=function(e){return e.show?r.a.createElement("div",{className:q.a.Backdrop,onClick:e.clicked},e.children):null},W=function(e){return r.a.createElement("div",null,r.a.createElement(J,{show:e.show,clicked:e.modalClosed}),r.a.createElement("div",{className:P.a.Modal,style:{transform:e.show?"scale(1)":"scale(0)",opacity:e.show?"1":"0"}},e.children))},z=a(74),M=a(75),Z=a(106),H=a.n(Z),U=function(e){return r.a.createElement("form",Object.assign({},e,{className:H.a.form}),e.children)},$=a(107),L=a.n($),G=function(e){return r.a.createElement("input",Object.assign({className:L.a.input},e))},K=a(15),Q=a.n(K),V=function(e){var t=e.input,a=e.label,n=e.type,c=e.meta,o=c.touched,l=c.error;return r.a.createElement("div",null,r.a.createElement("div",{className:Q.a.formItem},r.a.createElement("label",null,a),r.a.createElement(G,Object.assign({},t,{type:n}))),r.a.createElement("div",{className:Q.a.errorInput},o&&l&&r.a.createElement("span",null,l)))},X=Object(M.a)({form:"contact",validate:function(e){var t={};return e.firstName||(t.firstName="Required"),e.lastName||(t.lastName="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.phone?/^\d+$/g.test(e.phone)||(t.phone="Invalid phone number"):t.phone="Required",t}})(function(e){var t=e.handleSubmit,a=e.invalid;return r.a.createElement(U,{onSubmit:t},r.a.createElement(z.a,{name:"firstName",component:V,type:"text",label:"First Name"}),r.a.createElement(z.a,{name:"lastName",component:V,type:"text",label:"Last Name"}),r.a.createElement(z.a,{name:"phone",component:V,type:"text",label:"Phone"}),r.a.createElement(z.a,{name:"email",component:V,type:"email",label:"E-mail"}),r.a.createElement(T,{disabled:a,className:a?Q.a.disabledButton:""},"Save Contact"))}),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={modal:!1,draggable:null},a.setDraggable=a.setDraggable.bind(Object(D.a)(Object(D.a)(a))),a.handleDragEnter=a.handleDragEnter.bind(Object(D.a)(Object(D.a)(a))),a.handleClose=a.handleClose.bind(Object(D.a)(Object(D.a)(a))),a.handleShow=a.handleShow.bind(Object(D.a)(Object(D.a)(a))),a.handleContactClick=a.handleContactClick.bind(Object(D.a)(Object(D.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(D.a)(Object(D.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setDraggable",value:function(e){this.setState({draggable:e})}},{key:"handleDragEnter",value:function(e,t){var a,n,r=this.getOrder(this.props.contacts),c=Object.keys(r).map(function(e){return r[e]}),o=Object(S.a)(c);a=o,n={index:o.indexOf(this.state.draggable)};var l=(o=function(e,t){var a=e.slice();return a.splice(t.index,0,t.item),a}(o=a.filter(function(e,t){return t!==n.index}),{index:c.indexOf(t),item:this.state.draggable})).reduce(function(e,t,a){return Object(v.a)({},e,Object(g.a)({},t,a+1))},{});this.props.updateContactOrder(l)}},{key:"getOrder",value:function(e){return Object.keys(e).reduce(function(t,a){return Object(v.a)({},t,Object(g.a)({},e[a].orderId,a))},{})}},{key:"handleClose",value:function(){this.setState({modal:!1})}},{key:"handleShow",value:function(){this.props.initializeContact({}),this.setState({modal:!0})}},{key:"handleSubmit",value:function(e){void 0===e.id?this.props.addContact(e):this.props.updateContact(e),this.handleClose()}},{key:"handleContactClick",value:function(e){this.setState({modal:!0}),this.props.initializeContact(y(this.props.contacts[e],{id:e}))}},{key:"render",value:function(){var e=this,t=this.getOrder(this.props.contacts);return r.a.createElement("div",{className:Q.a.textCenter},r.a.createElement("div",{className:Q.a.Container},Object.keys(t).map(function(a){var n=e.props.contacts[t[a]],c=e.state.draggable===t[a]?Q.a.disabled:"";return r.a.createElement("div",{key:t[a],draggable:!0,className:[Q.a.Item,c].join(" "),onDrag:function(){return e.setDraggable(t[a])},onDragEnd:function(){return e.setDraggable(null)},onDragEnter:function(n){return e.handleDragEnter(n,t[a])},onClick:function(){return e.handleContactClick(t[a])}},r.a.createElement("div",{className:Q.a.NameField},n.firstName," ",n.lastName),r.a.createElement("div",null,n.phone),r.a.createElement("div",null,n.email))})),r.a.createElement(T,{onClick:this.handleShow},"Add contact"),r.a.createElement(W,{show:this.state.modal,modalClosed:this.handleClose},r.a.createElement(X,{onSubmit:this.handleSubmit})))}}]),t}(n.Component);var ee=Object(h.b)(function(e){return{contacts:e.contacts}},function(e){return Object(f.a)({addContact:k,updateContact:x,updateContactOrder:w,initializeContact:function(e){return Object(I.a)("contact",e)}},e)})(Y),te=function(){var e=Object(f.c)(N);return e.subscribe(function(){localStorage.setItem("contacts",JSON.stringify(e.getState().contacts))}),e.dispatch({type:j,payload:localStorage.getItem("contacts")?JSON.parse(localStorage.getItem("contacts")):[]}),e}(),ae=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(h.a,{store:te},r.a.createElement(p.a,null,r.a.createElement(b.a,{exact:!0,path:"/",component:ee}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,a){e.exports={"submit-button":"Button_submit-button__3OdzW","button-text":"Button_button-text__1PKfn","disabled-button":"Button_disabled-button__3BfGZ"}}},[[134,2,1]]]);
//# sourceMappingURL=main.184056bb.chunk.js.map